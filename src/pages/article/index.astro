---
import Layout from '../../layouts/Layout.astro';

const PROJECT_NAME = 'tomohirotsuji-plants';
const response = await fetch(`https://scrapbox.io/api/pages/${PROJECT_NAME}`);
const data = await response.json();
const articles = data.pages
  .filter((p) => p.title.startsWith('【memo】'))
  .sort((a, b) => b.updated - a.updated);
---

<Layout title="Article - Tomo at plants.">
  <nav class="breadcrumb">
    <a href="/">トップ</a>
    <span class="sep">›</span>
    <span>Article</span>
  </nav>
  <h1>Article</h1>
  <ul>
    {articles.map((p) => (
      <li><a href={`/page/${p.id.slice(0, 8)}`}>{p.title.replace(/^【memo】\s*/, '')}</a></li>
    ))}
  </ul>
</Layout>

<style>
  ul {
    list-style: none;
    padding: 0;
  }
  li {
    border-bottom: 1px solid #eee;
    padding: 10px 0;
  }
  li a {
    color: #0066cc;
    text-decoration: none;
    font-size: 1.02em;
  }
  li a:hover {
    text-decoration: underline;
  }
</style>
